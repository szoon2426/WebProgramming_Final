<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>공공재 메인페이지</title>
  <!-- ✅ CSS 경로 수정 -->
  <!-- <link rel="stylesheet" href="/css/main(LogX).css"> -->
  <link rel="stylesheet" href="/css/portfolio.css">
  <!-- ✅ JS 경로 수정 -->
  <script defer src="/js/main(LogX).js"></script>
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <div class="logo-area">
        <!-- ✅ 이미지 경로 수정 -->
        <img src="/images/reallogo 1.png" alt="공공재 로고" class="logo" id="mainLogo">
      </div>
      <button class="btn login" id="loginBtn">로그인</button>
      <button class="btn signup" id="signUpBtn">회원가입</button>
    </aside>

    <main class="main-content">
      <div class="portfolio-header">
        <div class="inner-container">
          <h1>Portfolio</h1>
        </div>
      </div>
      <div class = "portfolio-body">
        <div class="user-info">
          <div class="user-text">
            <p class="name-input" type="text"><%=name%></p>
            <div class="about-box">
              <p class="about-title">about me</p>
              <div class = "about-textarea">
                <p><%=about%></p>
              </div>
            </div>            
          </div>
        
          <div class="user-photo-skill">
            <div class="photo-box">
              <img id="profilePreview" src="/uploads/<%=profileImage%>" alt="프로필 이미지">
            </div>
            
            <div class="skills-section">
              <div class="skills" id="skillList">
                <% if (skills && skills.length > 0) { %>
                  <% skills.forEach(skill => { %>
                    <div class="skill-button" style="background-color: <%= skill.color %>;">
                      <p class="skill-input"><%= skill.name %></p>
                    </div>
                  <% }) %>
                <% } else { %>
                  <p>스킬이 없습니다.</p>
                <% } %>
              </div>
            </div>            
          </div>
        </div>
        <hr />
        <section class="study-record">
          <h3>공부 기록</h3>
          <p>현재 0일</p>
        
          <div class="study-graph-area">
            <!-- 좌측 요일 -->
            <div class="weekdays">
              <div>SUN</div>
              <div>MON</div>
              <div>TUE</div>
              <div>WED</div>
              <div>THU</div>
              <div>FRI</div>
              <div>SAT</div>
            </div>
        
            <!-- 우측 달력 스크롤 영역 -->
            <div class="calendar-scroll">
              <div class="calendar-track">
                <!-- 주 단위 열 -->
                <div class="calendar-column">
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                </div>
        
                <div class="calendar-column">
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                  <div class="day-cell"></div>
                </div>
        
                <!-- 추가 주 -->
              </div>
            </div>
        
            <!-- 우측 원형 요약 -->
            <div class="summary-circle">
              <div class="circle-placeholder">75%</div>
            </div>
          </div>
        </section>
        
      
        <section class="project-add-section">
          <!-- 추가될 카드들이 들어가는 영역 -->
          <div id="project-card-container">
            <% if (projects && projects.length > 0) { %>
              <% projects.forEach(function(project) { %>
                <div class="project-added-card show">
                  <div class="project-label">
                    <input type="text" class="project-title-input" value="<%= project.title %>" readonly />
                  </div>
                  <hr class="project-divider" />
                  <div class="project-detail">
                    <textarea class="project-description" readonly><%= project.description %></textarea>
                  </div>
                </div>
              <% }); %>
            <% } else { %>
              <p>프로젝트가 없습니다.</p>
            <% } %>
          </div>
        </section>
        
        <!-- 수정 완료 버튼 -->
        <div style="text-align: right; margin: 0 0;">
          <form action="/editPortfolio" method="get">
            <!--로그인 되어있는 id를 보내야함. 그리고 id가 본인 id와 다르면 숨겨야해해-->
            <input type="hidden" name="id" value="tjdwns2yeyo">
            <button class="btn edit" id="editBtn">수정하기</button>
          </form>
        </div>
        
      </div>
      
    </main>
  </div>
  <script src="/js/portfolio.js"></script>
</body>
</html>
